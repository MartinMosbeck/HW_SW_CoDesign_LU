from math import *
from BitVector import *

sin = [0.00000000000000,0.01562436422488,0.03124491398533,0.04685783574813,0.06245931784238,0.07804555138997,0.09361273123551,0.10915705687532,0.12467473338523,0.14016197234706,0.15561499277356,0.17103002203140,0.18640329676227,0.20173106380164,0.21700958109501,0.23223511861151,0.24740395925452,0.26251239976915,0.27755675164634,0.29253334202333,0.30743851458038,0.32226863043339,0.33702006902225,0.35168922899481,0.36627252908605,0.38076640899239,0.39516733024093,0.40947177705330,0.42367625720394,0.43777730287276,0.45177147149168,0.46565534658516,0.47942553860420,0.49307868575392,0.50661145481426,0.52002054195373,0.53330267353602,0.54645460691920,0.55947313124737,0.57235506823451,0.58509727294046,0.59769663453870,0.61015007707579,0.62245456022234,0.63460708001527,0.64660466959115,0.65844439991057,0.67012338047316,0.68163876002333,0.69298772724632,0.70416751145453,0.71517538326401,0.72600865526071,0.73666468265666,0.74714086393559,0.75743464148810,0.76754350223603,0.77746497824600,0.78719664733195,0.79673613364644,0.80608110826069,0.81522928973319,0.82417844466664,0.83292638825319,0.84147098480790,0.84981014829005,0.85794184281248,0.86586408313861,0.87357493516707,0.88107251640394,0.88835499642227,0.89542059730903,0.90226759409910,0.90889431519639,0.91529914278201,0.92148051320914,0.92743691738487,0.93316690113852,0.93866906557676,0.94394206742504,0.94898461935559,0.95379549030167,0.95837350575814,0.96271754806819,0.96682655669618,0.97069952848660,0.97433551790892,0.97773363728847,0.98089305702316,0.98381300578595,0.98649277071323,0.98893169757884,0.99112919095376,0.99308471435150,0.99479779035906,0.99626800075350,0.99749498660405,0.99847844835971,0.99921814592240,0.99971389870555,0.99996558567825]

skalierungsfaktor = pow(2,2*8)

bitinsgesamt=22

i=0
print("sin:")
for value in sin:

    vorkomma = abs(int(value))
    nachkomma = abs(int((value-int(value))*skalierungsfaktor))
    bv1 = BitVector(intVal=vorkomma,size=16)
    bv2 = BitVector(intVal=nachkomma,size=16)
    bv = bv1 + bv2

    if(value<0):
        #invert add +1
        bv3 = BitVector(intVal=int(str(~bv),2)+1 ,size=32)
        bv = bv3

    summe = 0
    j = 0
    power = 15 
    for c in str(bv):
        
        if(j==0):
            toadd = -pow(2,power)
        else:
            toadd =  pow(2,power)
        power = power - 1
        summe=summe + toadd * int(c)
        j=j+1

    string = "0" * (bitinsgesamt-len(str(bin(i))[2:])) + str(bin(i))[2:];

    print('\t\t\twhen "'+string+'" =>',end="")
    print(' erg := "',end="")
    print(str(bv)+'";') 
    #print("\t0b"+str(bv)+",")
    i=i+1
    #print("Wert:"+str(value)+ " = " + str(summe))
    #print("Delta= " + str(abs(value-summe)))
    #print("");